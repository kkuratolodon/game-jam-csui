[gd_scene load_steps=36 format=3 uid="uid://ccwnr2i6rhno7"]

[ext_resource type="Texture2D" uid="uid://2a6a5sdstjbt" path="res://Assets/Towers/CatapultTower/3 Units/1/D.png" id="1_g4baw"]
[ext_resource type="Texture2D" uid="uid://b7xffw6evmop3" path="res://Assets/Towers/CatapultTower/3 Units/1/U.png" id="4_5qikk"]
[ext_resource type="Texture2D" uid="uid://cjcs7wqekmi3i" path="res://Assets/Towers/CatapultTower/3 Units/1/S.png" id="5_cb5mc"]
[ext_resource type="Texture2D" uid="uid://cjenwmcdwga7e" path="res://Assets/Towers/CatapultTower/3 Units/1/US.png" id="6_5lc2s"]
[ext_resource type="Texture2D" uid="uid://dfht6ton247dd" path="res://Assets/Towers/CatapultTower/3 Units/1/DS.png" id="7_0l3e1"]
[ext_resource type="Script" path="res://Scene/Tower/ArcherTower/archer_attack.gd" id="10_kv3io"]
[ext_resource type="PackedScene" uid="uid://bhurj4v5bje2m" path="res://Scene/Tower/ArcherTower/arrow.tscn" id="11_tavlm"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mg3ew"]
animation = &"L_Attack"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_3uadb"]
animation = &"D_Attack"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_guhjc"]
animation = &"U_Attack"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vhuck"]
animation = &"R_Attack"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_shts0"]
blend_point_0/node = SubResource("AnimationNodeAnimation_mg3ew")
blend_point_0/pos = Vector2(-1, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_3uadb")
blend_point_1/pos = Vector2(0, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_guhjc")
blend_point_2/pos = Vector2(0, -1)
blend_point_3/node = SubResource("AnimationNodeAnimation_vhuck")
blend_point_3/pos = Vector2(1, 0)
blend_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_nqm2l"]
animation = &"L_Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_p6u8m"]
animation = &"D_Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8duvk"]
animation = &"U_Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ii2pl"]
animation = &"R_Idle"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_xc4w8"]
blend_point_0/node = SubResource("AnimationNodeAnimation_nqm2l")
blend_point_0/pos = Vector2(-1, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_p6u8m")
blend_point_1/pos = Vector2(0, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_8duvk")
blend_point_2/pos = Vector2(0, -1)
blend_point_3/node = SubResource("AnimationNodeAnimation_ii2pl")
blend_point_3/pos = Vector2(1, 0)
blend_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_3qfqg"]
animation = &"L_Preattack"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ld8fh"]
animation = &"D_Preattack"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_iblsx"]
animation = &"U_Preattack"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_oa02n"]
animation = &"R_Preattack"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_4ob01"]
blend_point_0/node = SubResource("AnimationNodeAnimation_3qfqg")
blend_point_0/pos = Vector2(-1, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_ld8fh")
blend_point_1/pos = Vector2(0, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_iblsx")
blend_point_2/pos = Vector2(0, -1)
blend_point_3/node = SubResource("AnimationNodeAnimation_oa02n")
blend_point_3/pos = Vector2(1, 0)

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_6wkgg"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_pigyc"]
advance_mode = 2
advance_expression = "self[\"parameters/conditions/attack\"] == false"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_dudq1"]
advance_mode = 2
advance_condition = &"attack"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lk86u"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_iykx4"]
states/Attack/node = SubResource("AnimationNodeBlendSpace2D_shts0")
states/Attack/position = Vector2(706, 142)
states/Idle/node = SubResource("AnimationNodeBlendSpace2D_xc4w8")
states/Idle/position = Vector2(373, 86)
states/PreAttack/node = SubResource("AnimationNodeBlendSpace2D_4ob01")
states/PreAttack/position = Vector2(558, 58)
states/Start/position = Vector2(194, 100)
transitions = ["Start", "Idle", SubResource("AnimationNodeStateMachineTransition_6wkgg"), "Attack", "Idle", SubResource("AnimationNodeStateMachineTransition_pigyc"), "Idle", "PreAttack", SubResource("AnimationNodeStateMachineTransition_dudq1"), "PreAttack", "Attack", SubResource("AnimationNodeStateMachineTransition_lk86u")]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_1at83"]
radius = 93.43
height = 240.28

[sub_resource type="Animation" id="Animation_men38"]
resource_name = "D_attack"
length = 0.6667
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("1_g4baw")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [6]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.111083, 0.222167, 0.33325, 0.444333, 0.555417),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}

[sub_resource type="Animation" id="Animation_gt8x0"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("1_g4baw")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [6]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_nh80e"]
resource_name = "U_attack"
length = 0.6667
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("4_5qikk")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [6]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.111083, 0.222167, 0.33325, 0.444333, 0.555417),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}

[sub_resource type="Animation" id="Animation_1xgre"]
resource_name = "R_attack"
length = 0.6667
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("5_cb5mc")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [6]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.111083, 0.222167, 0.33325, 0.444333, 0.555417),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}

[sub_resource type="Animation" id="Animation_3vjy6"]
resource_name = "UR_attack"
length = 0.6667
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("6_5lc2s")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [6]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.111083, 0.222167, 0.33325, 0.444333, 0.555417),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}

[sub_resource type="Animation" id="Animation_5eiye"]
resource_name = "DR_attack"
length = 0.6667
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("7_0l3e1")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [6]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.111083, 0.222167, 0.33325, 0.444333, 0.555417),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ktjf1"]
_data = {
"DR_attack": SubResource("Animation_5eiye"),
"D_attack": SubResource("Animation_men38"),
"RESET": SubResource("Animation_gt8x0"),
"R_attack": SubResource("Animation_1xgre"),
"UR_attack": SubResource("Animation_3vjy6"),
"U_attack": SubResource("Animation_nh80e")
}

[node name="Catapult" type="Node2D"]

[node name="Sprite2D" type="Sprite2D" parent="."]
scale = Vector2(0.735, 0.735)
texture = ExtResource("1_g4baw")
hframes = 6

[node name="AnimationTree" type="AnimationTree" parent="."]
active = false
tree_root = SubResource("AnimationNodeStateMachine_iykx4")
parameters/conditions/attack = false
parameters/Attack/blend_position = Vector2(-0.64961, 0.159292)
parameters/Idle/blend_position = Vector2(0.00607109, -1.3617)
parameters/PreAttack/blend_position = Vector2(-1, 0)

[node name="CatapultAttack" type="Node2D" parent="."]
position = Vector2(16, -4)
script = ExtResource("10_kv3io")
arrow_scene = ExtResource("11_tavlm")

[node name="Area2D" type="Area2D" parent="."]
position = Vector2(0, 18)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
rotation = 1.5708
shape = SubResource("CapsuleShape2D_1at83")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_ktjf1")
}
